<nav class="navbar is-primary" role="navigation" aria-label="main navigation" style="background-color: #e6522c">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item" href="/">PromTools</a>
        </div>
    </div>
</nav>

<div class="container">
    <section class="section">
        <h1 class="title">SLOs with Prometheus</h1>

        <form>
            <div class="field">
                <label class="label">Availability (Unavailability: {{ unavailability }})
                    <div class="control">
                        <input class="input" type="number" step="0.001" min="0" max="100" placeholder="99.9" autofocus
                               [(ngModel)]="slo.availability" (change)="unavailabilityMinutes()" (keyup)="unavailabilityMinutes()">
                    </div>
                </label>
                <p class="help">
                    <a href="https://landing.google.com/sre/sre-book/chapters/availability-table/">Availability</a>
                    is generally calculated based on how long a service was unavailable over some period.
                </p>
            </div>

            <div class="field">
                <label class="label">Metric
                    <div class="control">
                        <input class="input" type="text" placeholder="http_requests_total" autofocus [(ngModel)]="slo.metric">
                    </div>
                </label>
                <p class="help">
                    The metric name to base the SLO on.<br>
                    It's best to base this on metrics coming from a LoadBalancer or Ingress.
                </p>
            </div>

            <div class="field is-horizontal">
                <div class="field-body">
                    <div class="field">
                        <label class="label">Name
                            <div class="control">
                                <label>
                                    <input class="input" type="text" placeholder="job">
                                </label>
                            </div>
                        </label>
                    </div>
                    <div class="field">
                        <label class="label">Value
                            <div class="control">
                                <label>
                                    <input class="input" type="text" placeholder="prometheus">
                                </label>
                            </div>
                        </label>
                    </div>
                </div>
            </div>

            <div class="field">
                <div class="control">
                    <button class="button is-primary" type="submit" style="background-color: #e6522c"
                            [disabled]="loading" (click)="generate()">Generate
                    </button>
                </div>
            </div>
        </form>

        <!-- TODO: Link to the SLO libsonnet project -->

    </section>
</div>
